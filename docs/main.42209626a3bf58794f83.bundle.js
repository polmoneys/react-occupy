(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{287:function(module,exports,__webpack_require__){var api=__webpack_require__(184),content=__webpack_require__(640);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},289:function(module,exports,__webpack_require__){__webpack_require__(290),__webpack_require__(435),module.exports=__webpack_require__(436)},354:function(module,exports){},41:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(286),__webpack_require__(48),__webpack_require__(27),__webpack_require__(29),__webpack_require__(100),__webpack_require__(35),__webpack_require__(133),__webpack_require__(134),__webpack_require__(33),__webpack_require__(30);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=__webpack_require__(12),prop_types_default=__webpack_require__.n(prop_types);__webpack_require__(639);var rad=function(a){return Math.PI*a/180},rx=function(r,a,c){return c+r*Math.cos(rad(a))},ry=function(r,a,c){return c+r*Math.sin(rad(a))},num=function(n){return 1e-7>n?0:n},utils={draw:function draw(v,c,angle,offset,r1){for(var d=[],i=0;i<v;i++){var a=angle*i-offset,line=[0==i?"M":"L",num(rx(r1,a,c)),num(ry(r1,a,c))].join(" ");d.push(line)}return[d.join(" ")]}};function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var absoluteCenterStyles={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"};function Shape(props){var children=props.children,transforms=props.transforms,sides=props.sides,size=props.size,fill=props.fill;var clampedSize=3>sides?3:60<sides?60:sides,path=utils.draw(clampedSize,size/2,360/clampedSize,90,1*size/2);return react_default.a.createElement("div",{style:{position:"relative",display:"inline-flex",transform:transforms}},react_default.a.createElement("svg",{viewBox:[0,0,size,size],width:size,height:size,fill:fill},react_default.a.createElement("path",{d:path})),children&&react_default.a.createElement("div",{style:_objectSpread({},absoluteCenterStyles,{zIndex:1})},children))}Shape.displayName="Shape",Shape.Circle=function(props){return react_default.a.createElement(Shape,_extends({sides:25},props))},Shape.Triangle=function(props){return react_default.a.createElement(Shape,_extends({sides:3},props))},Shape.Square=function(props){return react_default.a.createElement(Shape,_extends({sides:4},props))};Shape.Freeze=react_default.a.memo((function(props){return react_default.a.createElement(Shape,props)}),(function(prevProps,nextProps){return prevProps.sides===nextProps.sides})),Shape.propTypes={sides:prop_types_default.a.number,fill:prop_types_default.a.string,transforms:prop_types_default.a.string,size:prop_types_default.a.number,children:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.node),prop_types_default.a.node])},Shape.defaultProps={sides:3,size:69,fill:"currentColor",transforms:null,children:null},Shape.__docgenInfo={description:"",methods:[{name:"Circle",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null},{name:"Triangle",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null},{name:"Square",docblock:null,modifiers:["static"],params:[{name:"props",optional:!1,type:null}],returns:null}],displayName:"Shape",props:{sides:{defaultValue:{value:"3",computed:!1},type:{name:"number"},required:!1,description:""},size:{defaultValue:{value:"69",computed:!1},type:{name:"number"},required:!1,description:""},fill:{defaultValue:{value:'"currentColor"',computed:!1},type:{name:"string"},required:!1,description:""},transforms:{defaultValue:{value:"null",computed:!1},type:{name:"string"},required:!1,description:""},children:{defaultValue:{value:"null",computed:!1},type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!1,description:""}}};__webpack_exports__.a=Shape;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/shape/index.js"]={name:"Shape",docgenInfo:Shape.__docgenInfo,path:"stories/shape/index.js"})},436:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(288);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(619)],module)}.call(this,__webpack_require__(437)(module))},49:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(21),__webpack_require__(22),__webpack_require__(17),__webpack_require__(286),__webpack_require__(48),__webpack_require__(67),__webpack_require__(78),__webpack_require__(28),__webpack_require__(19),__webpack_require__(39),__webpack_require__(75),__webpack_require__(20),__webpack_require__(101),__webpack_require__(29),__webpack_require__(16),__webpack_require__(96),__webpack_require__(47),__webpack_require__(34),__webpack_require__(23),__webpack_require__(131),__webpack_require__(24);var react=__webpack_require__(0),react_default=__webpack_require__.n(react);__webpack_require__(27),__webpack_require__(120),__webpack_require__(112),__webpack_require__(100),__webpack_require__(35),__webpack_require__(133),__webpack_require__(134),__webpack_require__(33),__webpack_require__(121),__webpack_require__(30),__webpack_require__(287);function Spot(_ref){var a11yTitle=_ref.a11yTitle,cb=_ref.cb,id=_ref.id,_ref$isBusy=_ref.isBusy,isBusy=void 0!==_ref$isBusy&&_ref$isBusy,_ref$isLast=_ref.isLast,isLast=void 0!==_ref$isLast&&_ref$isLast,_ref$isSelected=_ref.isSelected,isSelected=void 0!==_ref$isSelected&&_ref$isSelected;return react_default.a.createElement("button",{disabled:isBusy,style:{marginRight:isLast?"30px":0,cursor:isBusy?"not-allowed":"pointer",filter:isSelected?"brightness(2)":isBusy?"brightness(.7) grayscale(90%)":"none"},id:"spot-".concat(id),onClick:cb,"occupy-spot":""},react_default.a.createElement("span",{className:"offscreen"},a11yTitle))}Spot.displayName="Spot",Spot.__docgenInfo={description:"",methods:[],displayName:"Spot",props:{isBusy:{defaultValue:{value:"false",computed:!1},required:!1},isLast:{defaultValue:{value:"false",computed:!1},required:!1},isSelected:{defaultValue:{value:"false",computed:!1},required:!1}}};var lib_spot_0=Spot;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/spot.js"]={name:"Spot",docgenInfo:Spot.__docgenInfo,path:"lib/spot.js"});function Row(props){var _cb=props.cb,current=props.current,initialState=props.initialState,multi=props.multi,rowId=props.rowId,spots=props.spots,shape=props.shape,spotComponent=props.spotComponent,_useState2=_slicedToArray(Object(react.useState)(!1),2),rowWithShape=_useState2[0],makeRowFromShape=_useState2[1];function rowStyles(){var gridStyles={display:"grid",gridColumnGap:"4px",gridTemplateColumns:"repeat(".concat(spots.length,",1fr)")};return window.CSS&&CSS.supports("display:grid")&&!shape?gridStyles:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}Object(react.useEffect)((function(){if(shape){var safeShape=shape.map((function(x){return+x})),shapeCount=safeShape.reduce((function(a,b){return a+b}),0);if(shapeCount===spots.length){var shaped=safeShape.map((function(val,indx){var start=0===indx?0:1===indx?safeShape[indx-1]:shapeCount-val,end=0===indx?+val:1===indx?safeShape[indx-1]+ +val:shapeCount;return spots.slice(start,end)}));makeRowFromShape(shaped)}}}),[shape]);var busySpots=initialState.busySpots;if(!shape)return react_default.a.createElement("div",{style:_objectSpread({},rowStyles())},spots.map((function(spot,spotIndex){var spotId="".concat(rowId,"-").concat(spotIndex+1);return spotComponent?spotComponent({a11yTitle:"Select row ".concat(rowId," seat ").concat(spotIndex),cb:function cb(){return _cb(spotId)},id:spotId,isBusy:null==busySpots?void 0:busySpots.includes(spotId),isSelected:matchCurrentState(spotId)}):react_default.a.createElement(lib_spot_0,{a11yTitle:"Select row ".concat(rowId," seat ").concat(spotIndex),key:spotId,cb:function cb(){return _cb(spotId)},id:spotId,isBusy:null==busySpots?void 0:busySpots.includes(spotId),isSelected:matchCurrentState(spotId)})})));if(!rowWithShape)return null;function matchCurrentState(spotId){if(multi){var matches=null==current?void 0:current.filter((function(c){return"".concat(c.row,"-").concat(c.spot)===spotId}));return!!(matches&&0<matches.length)}return"".concat(current.row,"-").concat(current.spot)===spotId}return react_default.a.createElement("div",{style:_objectSpread({},rowStyles())},null==rowWithShape?void 0:rowWithShape.map((function(subRow,subRowIndex){return subRow.map((function(spot,spotIndex){var spotId=function(subRowIndex,spotIndex){return 0===subRowIndex?"".concat(rowId,"-").concat(spotIndex):2===subRowIndex?"".concat(rowId,"-").concat(rowWithShape[subRowIndex-1].length+rowWithShape[subRowIndex-2].length+spotIndex):"".concat(rowId,"-").concat(rowWithShape[subRowIndex-1].length+spotIndex)}(subRowIndex,spotIndex+1);return spotComponent?spotComponent({a11yTitle:"Select row and seat ".concat(spotId),id:spotId,cb:function cb(){return _cb(spotId)},isBusy:null==busySpots?void 0:busySpots.includes(spotId),isLast:spotIndex+1===subRow.length&&subRowIndex+1!==shape.length,isSelected:matchCurrentState(spotId)}):react_default.a.createElement(lib_spot_0,{key:spotId,a11yTitle:"Select row and seat ".concat(spotId),id:spotId,cb:function cb(){return _cb(spotId)},isBusy:null==busySpots?void 0:busySpots.includes(spotId),isLast:spotIndex+1===subRow.length&&subRowIndex+1!==shape.length,isSelected:matchCurrentState(spotId)})}))})))}Row.displayName="Row",Row.__docgenInfo={description:"CASE A : If <Row> has no shape, return spots\nCASE B : If has shape we need to re-render with the new 'shaped' spots",methods:[],displayName:"Row"};var lib_row=Row;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/row.js"]={name:"Row",docgenInfo:Row.__docgenInfo,path:"lib/row.js"});var prop_types=__webpack_require__(12),prop_types_default=__webpack_require__.n(prop_types);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function lib_slicedToArray(arr,i){return function lib_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function lib_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function lib_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Occupy(props){var _ref2,initialRowIndex=props.initialRowIndex,rowCount=props.rowCount,spotCount=props.spotCount,_props$multi=props.multi,multi=void 0!==_props$multi&&_props$multi,_useState2=lib_slicedToArray(Object(react.useState)(!1),2),isReady=_useState2[0],showComponent=_useState2[1],_useState4=lib_slicedToArray(Object(react.useState)([]),2),blueprint=_useState4[0],makeBlueprint=_useState4[1],_useState6=lib_slicedToArray(Object(react.useState)([]),2),selectedSpot=_useState6[0],selectSpot=_useState6[1];function select(payload){var splitAt=payload.indexOf("-"),row=payload.slice(0,splitAt),spot=payload.replace("".concat(row,"-"),"");if(multi){if(0<(null==selectedSpot?void 0:selectedSpot.filter((function(c){return"".concat(c.row,"-").concat(c.spot)===payload}))).length)return;selectSpot((function(prev){return[].concat(_toConsumableArray(prev),[{spot:+spot,row:+row}])}))}else selectSpot([{spot:+spot,row:+row}])}function keyboardHandle(e){if(!multi&&("ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key)){var _selectedSpot$=selectedSpot[0],spot=_selectedSpot$.spot,row=_selectedSpot$.row,nextSpot=spot,nextRow=row,hasChanged=!1;if("ArrowRight"===e.key?spot+1<=spotCount&&(nextSpot=spot+1,hasChanged=!0):"ArrowLeft"===e.key?1<=spot-1&&(nextSpot=spot-1,hasChanged=!0):"ArrowUp"===e.key?1<=row-1&&(nextRow=row-1,hasChanged=!0):row<rowCount&&(nextRow=row+1,hasChanged=!0),hasChanged){document.activeElement.blur();var focusNext=document.querySelector("#spot-".concat(nextRow,"-").concat(nextSpot));window.requestAnimationFrame((function(){focusNext&&focusNext.focus()})),selectSpot([{spot:nextSpot,row:nextRow}])}}}return Object(react.useEffect)((function(){showComponent(!1),function make2DArray(w,h){var val=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,calc=Array.from({length:h}).map((function(){return Array.from({length:w}).fill(val)}));return new Promise((function(resolveIt){return resolveIt(calc)}))}(spotCount,rowCount,1).then((function(seed){makeBlueprint(seed),showComponent(!0)}))}),[spotCount,rowCount]),Object(react.useEffect)((function(){selectSpot([])}),[initialRowIndex]),Object(react.useEffect)((function(){return window.addEventListener("keydown",keyboardHandle),function(){window.removeEventListener("keydown",keyboardHandle)}})),isReady?react_default.a.createElement(react_default.a.Fragment,null,null==blueprint?void 0:blueprint.map((function(row,rowIndex){var _ref;return react_default.a.createElement(lib_row,_extends({key:rowIndex+initialRowIndex,cb:function cb(spotId){return select(spotId)},rowId:rowIndex+initialRowIndex,spots:row},props,{current:multi?selectedSpot:null!==(_ref=null==selectedSpot?void 0:selectedSpot[0])&&void 0!==_ref?_ref:[]}))})),props.children&&props.children({select:select,selected:multi?selectedSpot:null!==(_ref2=null==selectedSpot?void 0:selectedSpot[0])&&void 0!==_ref2?_ref2:[]})):null}Occupy.__docgenInfo={description:"",methods:[],displayName:"Occupy",props:{rowCount:{defaultValue:{value:"4",computed:!1},type:{name:"number"},required:!1,description:""},spotCount:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},shape:{defaultValue:{value:"null",computed:!1},type:{name:"union",value:[{name:"array"},{name:"bool"}]},required:!1,description:""},initialState:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},initialRowIndex:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},spotComponent:{defaultValue:{value:"false",computed:!1},required:!1}}};__webpack_exports__.a=Occupy;Occupy.propTypes={initialRowIndex:prop_types_default.a.number,rowCount:prop_types_default.a.number.isRequired,spotCount:prop_types_default.a.number.isRequired,shape:prop_types_default.a.oneOfType([prop_types_default.a.array,prop_types_default.a.bool]),initialState:prop_types_default.a.object},Occupy.defaultProps={rowCount:4,spotCount:8,shape:null,initialState:{},initialRowIndex:1,spotComponent:!1},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib/index.js"]={name:"Occupy",docgenInfo:Occupy.__docgenInfo,path:"lib/index.js"})},61:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(48),__webpack_require__(27),__webpack_require__(100),__webpack_require__(35),__webpack_require__(133),__webpack_require__(134),__webpack_require__(33),__webpack_require__(30);var react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);__webpack_require__(632),__webpack_require__(634);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var styles={width:"100%",marginLeft:"auto",marginRight:"auto",position:"relative",minHeight:"500px",lineHeight:"1.5",fontSize:"1.3rem",borderRadius:"12px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',textRendering:"optimizeLegibility"},Center=function(_ref2){var children=_ref2.children,_ref2$variant=_ref2.variant,variant=void 0===_ref2$variant?"m":_ref2$variant,flex=_ref2.flex;return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div",{id:"hook-for-things",className:flex,style:_objectSpread({},styles,{backgroundColor:"xl"===variant?"transparent":"#b8c1ec",maxWidth:"m"===variant?"740px":"s"===variant?"560px":"900px"})},children)};Center.displayName="Center",Center.__docgenInfo={description:"",methods:[],displayName:"Center",props:{variant:{defaultValue:{value:'"m"',computed:!1},required:!1}}},__webpack_exports__.a=Center,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/container.js"]={name:"Center",docgenInfo:Center.__docgenInfo,path:"stories/container.js"})},619:function(module,exports,__webpack_require__){var map={"./1-Defaults.stories.js":620,"./2-Shapes.stories.js":641,"./3-Fun.stories.js":642,"./4-DIY.stories.js":643};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=619},620:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CaseA",(function(){return CaseA})),__webpack_require__.d(__webpack_exports__,"CaseB",(function(){return CaseB})),__webpack_require__.d(__webpack_exports__,"CaseC",(function(){return CaseC}));__webpack_require__(29);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31),_container__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(61),_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}__webpack_require__(60).withSource;var addSourceDecorator=__webpack_require__(60).addSource,__SOURCE_PREFIX__="/Users/polmoneys/Documents/code/OSS/occupy/stories",__STORY__='import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, text, color, number } from "@storybook/addon-knobs";\n\nimport Center from "./container";\nimport Shape from "./shape";\nimport Occupy from "../lib";\n\nexport default {\n  title: "Default",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="s" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nexport const CaseA = () => {\n  const initialState = {\n    busySpots: ["2-3"]\n  };\n\n  return (\n    <Occupy\n      rowCount={number("Rows", 4)}\n      spotCount={number("Seats per row", 8)}\n      initialState={initialState}\n    />\n  );\n};\n\nCaseA.story = {\n  name: "Dynamic rows and seats"\n};\n\nconst SpotCheckboxLike = ({ a11yTitle, cb, id, isLast, isSelected }) => (\n  <button\n    type="button"\n    key={id}\n    id={`spot-${id}`}\n    className="checkbox-spot"\n    onClick={() => cb(id)}\n    style={{\n      marginRight: isLast ? "30px" : 0,\n      position: "relative",\n      width: "40px",\n      height: "40px",\n      borderRadius: "50%",\n      backgroundColor: "#eebbc3",\n      border: "1px solid #eebbc3",\n      boxShadow: "1px 0 4px rgba(0,0,0,.1)",\n      filter: isSelected ? "brightness(1.2)" : "none"\n    }}\n  >\n    <span\n      style={{\n        position: "absolute",\n        top: "50%",\n        left: "50%",\n        transform: "translate(-50%,-50%)",\n        width: "10px",\n        height: "10px",\n        borderRadius: "50%",\n        backgroundColor: isSelected ? "#232946" : "#b8c1ec",\n        border: `1px solid ${isSelected ? "#232946" : "#b8c1ec"}`\n      }}\n    ></span>\n    <span className="offscreen">{a11yTitle}</span>\n  </button>\n);\n\nconst SpotShape = ({ a11yTitle, cb, id, isLast, isSelected }) => (\n  <button\n    type="button"\n    key={id}\n    id={`spot-${id}`}\n    onClick={() => cb(id)}\n    className="shape-spot"\n    style={{\n      marginRight: isLast ? "30px" : 0,\n      position: "relative",\n      width: "40px",\n      height: "40px",\n      backgroundColor: "rgba(0,0,0,0)",\n      border: "1px solid rgba(0,0,0,0)"\n    }}\n  >\n    <span\n      style={{\n        position: "absolute",\n        top: "50%",\n        left: "50%",\n        transform: "translate(-50%,-50%)",\n        pointerEvents: "none"\n      }}\n    >\n      <Shape\n        sides={isSelected ? 4 : 3}\n        size={isSelected ? 34 : 40}\n        fill={isSelected ? "#232946" : "#eebbc3"}\n      />\n    </span>\n\n    <span className="offscreen">{a11yTitle}</span>\n  </button>\n);\n\nexport const CaseB = () => {\n  return (\n    <>\n      <Occupy\n        rowCount={4}\n        spotCount={8}\n        spotComponent={props => <SpotCheckboxLike key={props.id} {...props} />}\n      />\n      <br />\n      <br />\n      <Occupy\n        rowCount={4}\n        spotCount={8}\n        spotComponent={props => <SpotShape key={props.id} {...props} />}\n      />\n    </>\n  );\n};\n\nCaseB.story = {\n  name: "Provide your own <Spot/>"\n};\n\nexport const CaseC = () => {\n  return (\n    <Occupy rowCount={4} spotCount={8}>\n      {({ selected }) => {\n        return (\n          <div className="col-start align-start flex-stretch padded-x">\n            <br />\n            <p\n              className="txt-bold underline -black txt-l"\n              style={{\n                position: "absolute",\n                transform: "rotate(-90deg) translate(94px,-36px)"\n              }}\n            >\n              ROW {selected?.row ?? 0}\n            </p>\n            <p\n              className="txt-bold underline -black txt-l"\n              style={{\n                position: "absolute",\n                transform: "translate(80px,-270px)"\n              }}\n            >\n              SEAT {selected?.spot ?? 0}\n            </p>\n\n            <p className="txt-bold underline-double -black txt-l">\n              SPOT {selected?.row ?? 0}-{selected?.spot ?? 0}\n            </p>\n          </div>\n        );\n      }}\n    </Occupy>\n  );\n};\n\nCaseC.story = {\n  name: "Provide your own <Log/>"\n};\n',__ADDS_MAP__={"default--case-a":{startLoc:{col:21,line:21},endLoc:{col:1,line:33},startBody:{col:21,line:21},endBody:{col:1,line:33}},"default--case-b":{startLoc:{col:21,line:111},endLoc:{col:1,line:128},startBody:{col:21,line:111},endBody:{col:1,line:128}},"default--case-c":{startLoc:{col:21,line:134},endLoc:{col:1,line:168},startBody:{col:21,line:134},endBody:{col:1,line:168}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:'import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, text, color, number } from "@storybook/addon-knobs";\n\nimport Center from "./container";\nimport Shape from "./shape";\nimport Occupy from "../lib";\n\nexport default {\n  title: "Default",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="s" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nexport const CaseA = () => {\n  const initialState = {\n    busySpots: ["2-3"]\n  };\n\n  return (\n    <Occupy\n      rowCount={number("Rows", 4)}\n      spotCount={number("Seats per row", 8)}\n      initialState={initialState}\n    />\n  );\n};\n\nCaseA.story = {\n  name: "Dynamic rows and seats"\n};\n\nconst SpotCheckboxLike = ({ a11yTitle, cb, id, isLast, isSelected }) => (\n  <button\n    type="button"\n    key={id}\n    id={`spot-${id}`}\n    className="checkbox-spot"\n    onClick={() => cb(id)}\n    style={{\n      marginRight: isLast ? "30px" : 0,\n      position: "relative",\n      width: "40px",\n      height: "40px",\n      borderRadius: "50%",\n      backgroundColor: "#eebbc3",\n      border: "1px solid #eebbc3",\n      boxShadow: "1px 0 4px rgba(0,0,0,.1)",\n      filter: isSelected ? "brightness(1.2)" : "none"\n    }}\n  >\n    <span\n      style={{\n        position: "absolute",\n        top: "50%",\n        left: "50%",\n        transform: "translate(-50%,-50%)",\n        width: "10px",\n        height: "10px",\n        borderRadius: "50%",\n        backgroundColor: isSelected ? "#232946" : "#b8c1ec",\n        border: `1px solid ${isSelected ? "#232946" : "#b8c1ec"}`\n      }}\n    ></span>\n    <span className="offscreen">{a11yTitle}</span>\n  </button>\n);\n\nconst SpotShape = ({ a11yTitle, cb, id, isLast, isSelected }) => (\n  <button\n    type="button"\n    key={id}\n    id={`spot-${id}`}\n    onClick={() => cb(id)}\n    className="shape-spot"\n    style={{\n      marginRight: isLast ? "30px" : 0,\n      position: "relative",\n      width: "40px",\n      height: "40px",\n      backgroundColor: "rgba(0,0,0,0)",\n      border: "1px solid rgba(0,0,0,0)"\n    }}\n  >\n    <span\n      style={{\n        position: "absolute",\n        top: "50%",\n        left: "50%",\n        transform: "translate(-50%,-50%)",\n        pointerEvents: "none"\n      }}\n    >\n      <Shape\n        sides={isSelected ? 4 : 3}\n        size={isSelected ? 34 : 40}\n        fill={isSelected ? "#232946" : "#eebbc3"}\n      />\n    </span>\n\n    <span className="offscreen">{a11yTitle}</span>\n  </button>\n);\n\nexport const CaseB = () => {\n  return (\n    <>\n      <Occupy\n        rowCount={4}\n        spotCount={8}\n        spotComponent={props => <SpotCheckboxLike key={props.id} {...props} />}\n      />\n      <br />\n      <br />\n      <Occupy\n        rowCount={4}\n        spotCount={8}\n        spotComponent={props => <SpotShape key={props.id} {...props} />}\n      />\n    </>\n  );\n};\n\nCaseB.story = {\n  name: "Provide your own <Spot/>"\n};\n\nexport const CaseC = () => {\n  return (\n    <Occupy rowCount={4} spotCount={8}>\n      {({ selected }) => {\n        return (\n          <div className="col-start align-start flex-stretch padded-x">\n            <br />\n            <p\n              className="txt-bold underline -black txt-l"\n              style={{\n                position: "absolute",\n                transform: "rotate(-90deg) translate(94px,-36px)"\n              }}\n            >\n              ROW {selected?.row ?? 0}\n            </p>\n            <p\n              className="txt-bold underline -black txt-l"\n              style={{\n                position: "absolute",\n                transform: "translate(80px,-270px)"\n              }}\n            >\n              SEAT {selected?.spot ?? 0}\n            </p>\n\n            <p className="txt-bold underline-double -black txt-l">\n              SPOT {selected?.row ?? 0}-{selected?.spot ?? 0}\n            </p>\n          </div>\n        );\n      }}\n    </Occupy>\n  );\n};\n\nCaseC.story = {\n  name: "Provide your own <Log/>"\n};\n',locationsMap:{"default--case-a":{startLoc:{col:21,line:21},endLoc:{col:1,line:33},startBody:{col:21,line:21},endBody:{col:1,line:33}},"default--case-b":{startLoc:{col:21,line:111},endLoc:{col:1,line:128},startBody:{col:21,line:111},endBody:{col:1,line:128}},"default--case-c":{startLoc:{col:21,line:134},endLoc:{col:1,line:168},startBody:{col:21,line:134},endBody:{col:1,line:168}}}}},title:"Default",decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs,function(storyFn){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_container__WEBPACK_IMPORTED_MODULE_3__.a,{variant:"s",flex:"col-center align-center"},storyFn())}]};var CaseA=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_5__.a,{rowCount:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.number)("Rows",4),spotCount:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.number)("Seats per row",8),initialState:{busySpots:["2-3"]}})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Defaults.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseA.story={name:"Dynamic rows and seats"};var SpotCheckboxLike=function(_ref){var a11yTitle=_ref.a11yTitle,cb=_ref.cb,id=_ref.id,isLast=_ref.isLast,isSelected=_ref.isSelected;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{type:"button",key:id,id:"spot-".concat(id),className:"checkbox-spot",onClick:function onClick(){return cb(id)},style:{marginRight:isLast?"30px":0,position:"relative",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#eebbc3",border:"1px solid #eebbc3",boxShadow:"1px 0 4px rgba(0,0,0,.1)",filter:isSelected?"brightness(1.2)":"none"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"10px",height:"10px",borderRadius:"50%",backgroundColor:isSelected?"#232946":"#b8c1ec",border:"1px solid ".concat(isSelected?"#232946":"#b8c1ec")}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"offscreen"},a11yTitle))};SpotCheckboxLike.displayName="SpotCheckboxLike";var SpotShape=function(_ref2){var a11yTitle=_ref2.a11yTitle,cb=_ref2.cb,id=_ref2.id,isLast=_ref2.isLast,isSelected=_ref2.isSelected;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{type:"button",key:id,id:"spot-".concat(id),onClick:function onClick(){return cb(id)},className:"shape-spot",style:{marginRight:isLast?"30px":0,position:"relative",width:"40px",height:"40px",backgroundColor:"rgba(0,0,0,0)",border:"1px solid rgba(0,0,0,0)"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",pointerEvents:"none"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_shape__WEBPACK_IMPORTED_MODULE_4__.a,{sides:isSelected?4:3,size:isSelected?34:40,fill:isSelected?"#232946":"#eebbc3"})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"offscreen"},a11yTitle))};SpotShape.displayName="SpotShape";var _ref3=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),_ref4=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),CaseB=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_5__.a,{rowCount:4,spotCount:8,spotComponent:function spotComponent(props){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SpotCheckboxLike,_extends({key:props.id},props))}}),_ref3,_ref4,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_5__.a,{rowCount:4,spotCount:8,spotComponent:function spotComponent(props){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SpotShape,_extends({key:props.id},props))}}))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Defaults.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseB.story={name:"Provide your own <Spot/>"};var _ref6=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),CaseC=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_5__.a,{rowCount:4,spotCount:8},(function(_ref5){var _ref7,_ref8,_ref9,_ref10,selected=_ref5.selected;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"col-start align-start flex-stretch padded-x"},_ref6,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"txt-bold underline -black txt-l",style:{position:"absolute",transform:"rotate(-90deg) translate(94px,-36px)"}},"ROW ",null!==(_ref7=null==selected?void 0:selected.row)&&void 0!==_ref7?_ref7:0),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"txt-bold underline -black txt-l",style:{position:"absolute",transform:"translate(80px,-270px)"}},"SEAT ",null!==(_ref8=null==selected?void 0:selected.spot)&&void 0!==_ref8?_ref8:0),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"txt-bold underline-double -black txt-l"},"SPOT ",null!==(_ref9=null==selected?void 0:selected.row)&&void 0!==_ref9?_ref9:0,"-",null!==(_ref10=null==selected?void 0:selected.spot)&&void 0!==_ref10?_ref10:0))}))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-Defaults.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:__SOURCE_PREFIX__,__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseC.story={name:"Provide your own <Log/>"}},632:function(module,exports,__webpack_require__){var api=__webpack_require__(184),content=__webpack_require__(633);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},633:function(module,exports,__webpack_require__){(exports=__webpack_require__(185)(!1)).push([module.i,'*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  color: currentColor;\n}\n\n* {\n  background-repeat: no-repeat;\n  padding: 0;\n  margin: 0;\n}\n\n@-ms-viewport {\n  width: device-width;\n}\n\n@-o-viewport {\n  width: device-width;\n}\n\n@viewport {\n  width: device-width;\n}\n\n.offscreen {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\nhtml {\n  -webkit-text-size-adjust: 100%;\n  -moz-text-size-adjust: 100%;\n   -ms-text-size-adjust: 100%;\n       text-size-adjust: 100%;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  -webkit-tap-highlight-color: transparent;\n  scroll-behavior: smooth;\n}\n\nbody {\n  overflow-y: scroll;\n}\n\naside,\narticle,\nfooter,\nheader,\nmain,\nnav,\nsection {\n  display: block;\n}\n\nimg {\n  border: 0;\n  border-style: none;\n  vertical-align: middle;\n  max-width: 100%;\n  height: auto;\n}\n\nsvg {\n  overflow: hidden;\n  vertical-align: middle;\n}\n\n[hidden] {\n  display: none !important;\n}\n\n[disabled] {\n  cursor: not-allowed;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    -webkit-animation: none !important;\n            animation: none !important;\n    transition: none !important;\n  }\n}\n\n.row-start,\n.row-end,\n.row-center,\n.row-around,\n.row-between,\n.col-around,\n.col-between,\n.col-center,\n.col-end,\n.col-start {\n  display: flex;\n}\n\n.row-start,\n.row-end,\n.row-center,\n.row-around,\n.row-between {\n  flex-direction: row;\n}\n\n.col-around,\n.col-between,\n.col-center,\n.col-end,\n.col-start {\n  flex-direction: column;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.flex-break {\n  flex-basis: 100%;\n  height: 0;\n}\n\n.flex-break-column {\n  flex-basis: 100%;\n  width: 0;\n}\n\n.flex-fill {\n  width: 100%;\n  flex: 1 1 auto !important;\n}\n\n.flex-grow {\n  flex-grow: 1;\n}\n\n.flex-stretch {\n  display: flex;\n  align-self: stretch;\n}\n\n.flex--1 {\n  flex: 1 1;\n}\n\n.flex--2 {\n  flex: 2 1;\n}\n\n.flex-grid {\n  display: flex;\n  flex-wrap: wrap;\n  margin: -0.5rem;\n  width: 100%;\n}\n\n.flex-grid > * {\n  flex: 1 0 5rem;\n  margin: 0.5rem;\n}\n\n.flex-between-with-padding-x {\n  display: flex;\n  justify-content: space-between;\n}\n\n.flex-between-with-padding-x::before,\n.flex-between-with-padding-x::after {\n  content: "";\n}\n\n.row--child--child > *:not(:last-child) {\n  --row-child-margin: 6px;\n  margin-right: var(--row-child-margin);\n}\n\n.column--child--child > *:not(:last-child) {\n  --column-child-margin: 6px;\n  margin-right: var(--column-child-margin);\n}\n\n.row-start {\n  justify-content: flex-start;\n}\n\n.row-end {\n  justify-content: flex-end;\n}\n\n.row-center {\n  justify-content: center;\n}\n\n.row-around {\n  justify-content: space-around;\n}\n\n.row-between {\n  justify-content: space-between;\n}\n\n.col-center {\n  justify-content: center;\n}\n\n.col-start {\n  justify-content: flex-start;\n}\n\n.col-end {\n  justify-content: flex-end;\n}\n\n.col-around {\n  justify-content: space-around;\n}\n\n.col-between {\n  justify-content: space-between;\n}\n\n.align-center {\n  align-items: center;\n}\n\n.align-start {\n  align-items: flex-start;\n}\n\n.align-end {\n  align-items: flex-end;\n}\n\n.align-baseline {\n  align-items: baseline;\n}\n',""]),module.exports=exports},634:function(module,exports,__webpack_require__){var api=__webpack_require__(184),content=__webpack_require__(635);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},635:function(module,exports,__webpack_require__){(exports=__webpack_require__(185)(!1)).push([module.i,'/*    \n        .-TXT\n        ._BACKGROUND\n*/\n\n:root {\n  /* --accent: rgb(247, 8, 72);\n  --accent-alpha: rgba(247, 8, 72, 0.1);\n  --accent-pro: #870bf3;\n  --accent-pro-alpha: rgba(135, 11, 243, 0.1);\n  --bg: #f9f9f9;\n  --black: #444444; */\n  --ultrablack: #191919;\n  --disabled: #888888;\n  --pristine: #ffffff;\n  --black: #232946;\n  --white: #fffffe;\n  --accent: #b8c1ec;\n  --accent-beta: #eebbc3;\n  --accent-beta-fade: rgba(238, 187, 195, 0.2);\n}\n\nhtml {\n  background: var(--bg, #fff);\n}\n\n.owl > * + * {\n  margin-top: 12px;\n}\n\n.sb-show-main {\n  padding-top: 10vh;\n  min-height: 100vh;\n  background-color: var(--black);\n}\n\n.minimap {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: 120px;\n  min-height: 300px;\n  z-index: 9999;\n  background: #b8c1ec;\n}\n\n.minimap button {\n  width: 100%;\n  min-height: 100px;\n  border-radius: 0;\n  position: relative;\n  border: 1px solid rgba(0, 0, 0, 0);\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  touch-action: manipulation;\n  cursor: pointer;\n  overflow: visible;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",\n    "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",\n    "Helvetica Neue", sans-serif;\n  letter-spacing: 0.05rem;\n  line-height: 1.4;\n  text-align: center;\n}\n\n.minimap small {\n  display: block;\n  width: 100%;\n  text-align: center;\n  font-size: 0.8rem;\n  font-weight: 300;\n  padding: 5px 0;\n}\n\n.pricemap {\n  position: absolute;\n  top: -40px;\n  left: -23vw;\n  pointer-events: none;\n  z-index: 9999;\n}\n\n.beach-wrapper {\n  position: relative;\n  background-color: var(--accent-beta);\n}\n\n.beach-wrapper::before {\n  content: "";\n  width: 100%;\n  height: 40px;\n  background-color: var(--accent);\n  position: absolute;\n  top: -40px;\n  border-radius: 12px 12px 0 0;\n}\n\n.underline {\n  text-decoration: underline;\n  -webkit-text-decoration: currentColor solid underline;\n  text-decoration: currentColor solid underline;\n}\n\n.underline-double {\n  text-decoration: underline;\n  -webkit-text-decoration: currentColor double underline;\n  text-decoration: currentColor double underline;\n}\n\n.padded-x {\n  padding: 0 1rem;\n}\n\n.txt-s {\n  font-size: 0.8rem;\n}\n\n.txt-m {\n  font-size: 1rem;\n}\n\n.txt-l {\n  font-size: 2.4rem;\n}\n\n.txt-xl {\n  font-size: 3.4rem;\n}\n\n.txt-center {\n  text-align: center;\n}\n\n.txt-bold {\n  font-weight: 600;\n}\n\n.txt-thin {\n  font-weight: 300;\n}\n\n.txt-block {\n  display: block;\n}\n.txt-pointer {\n  cursor: pointer;\n}\n\n.-accent {\n  color: var(--accent) !important;\n}\n\n._accent {\n  background-color: var(--accent) !important;\n}\n\n.-accent-beta {\n  color: var(--accent-beta) !important;\n}\n\n._accent-beta {\n  background-color: var(--accent-beta) !important;\n}\n\n.-accent-pro {\n  color: var(--accent-pro) !important;\n}\n\n._accent-pro {\n  background-color: var(--accent-pro) !important;\n}\n\n.-accent-pro-alpha {\n  color: var(--accent-pro-alpha) !important;\n}\n\n._accent-pro-alpha {\n  background-color: var(--accent-pro-alpha) !important;\n}\n\n.-pristine {\n  color: var(--pristine) !important;\n}\n\n._pristine {\n  background-color: var(--pristine) !important;\n}\n\n.-black {\n  color: var(--black) !important;\n}\n\n._black {\n  background-color: var(--black) !important;\n}\n',""]),module.exports=exports},640:function(module,exports,__webpack_require__){(exports=__webpack_require__(185)(!1)).push([module.i,'[occupy-spot] {\n  width: 39.6px;\n  height: 44px;\n  border-radius: 4px 4px 8px 8px;\n  background: #eebbc3;\n  background: linear-gradient(#eebbc3 0%, #eebbc3 70%, #000 70%, #cc1f2f 77%);\n  position: relative;\n  border: 1px solid #000;\n  margin: 3px;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  touch-action: manipulation;\n  cursor: pointer;\n  overflow: visible;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",\n    "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",\n    "Helvetica Neue", sans-serif;\n  letter-spacing: 0.05rem;\n  font-size: 0.9rem;\n  font-weight: 400;\n  line-height: 1.4;\n  text-align: center;\n}\n\n[occupy-spot]:after,\n[occupy-spot]:before {\n  content: "";\n  display: block;\n  width: 7.33333px;\n  height: 24.44444px;\n  position: absolute;\n  background: #cc1f2f;\n  border-radius: 4px;\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  bottom: 5.5px;\n}\n\n[occupy-spot].plane-demo {\n  background: var(--accent);\n}\n\n[occupy-spot].plane-demo:after,\n[occupy-spot].plane-demo:before {\n  background: var(--accent);\n}\n\n[occupy-spot]:before {\n  left: -4.4px;\n}\n\n[occupy-spot]:after {\n  right: -4.4px;\n}\n\n[occupy-spot]:focus {\n  -webkit-filter: brightness(1.2) !important;\n          filter: brightness(1.2) !important;\n}\n\n[occupy-spot="dummy"] {\n  opacity: 0;\n  pointer-events: none;\n}\n\n.shape-spot:focus {\n  z-index: 2;\n  -webkit-filter: brightness(1.2) !important;\n          filter: brightness(1.2) !important;\n}\n\n.checkbox-spot:focus {\n  z-index: 2;\n}\n\n.checkbox-spot:focus span {\n  background-color: var(--black) !important;\n}\n\n.beach-spot {\n  font-size: 1.4rem !important;\n}\n\n.beach-spot:focus {\n  z-index: 2;\n  background-color: var(--accent) !important;\n}\n',""]),module.exports=exports},641:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CaseA",(function(){return CaseA}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31),_container__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(61),_lib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49),addSourceDecorator=(__webpack_require__(60).withSource,__webpack_require__(60).addSource);__webpack_exports__.default={parameters:{storySource:{source:'import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, array, color, number } from "@storybook/addon-knobs";\n\nimport Center from "./container";\nimport Occupy from "../lib";\n\nexport default {\n  title: "Shaped",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="s" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nexport const CaseA = () => {\n  return (\n    <Occupy\n      rowCount={number("Rows", 4)}\n      spotCount={number("Seats per row", 8)}\n      shape={array(\n        "Shape, try [4,4] or [3,3,2] (max 3 elements that add up to seats per row)",\n        [2, 4, 2]\n      )}\n    />\n  );\n};\n\nCaseA.story = {\n  name: "Dinamyc row shape"\n};\n',locationsMap:{"shaped--case-a":{startLoc:{col:21,line:20},endLoc:{col:1,line:31},startBody:{col:21,line:20},endBody:{col:1,line:31}}}}},title:"Shaped",decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.withKnobs,function(storyFn){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_container__WEBPACK_IMPORTED_MODULE_2__.a,{variant:"s",flex:"col-center align-center"},storyFn())}]};var CaseA=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_3__.a,{rowCount:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Rows",4),spotCount:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.number)("Seats per row",8),shape:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_1__.array)("Shape, try [4,4] or [3,3,2] (max 3 elements that add up to seats per row)",[2,4,2])})}),{__STORY__:'import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, array, color, number } from "@storybook/addon-knobs";\n\nimport Center from "./container";\nimport Occupy from "../lib";\n\nexport default {\n  title: "Shaped",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="s" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nexport const CaseA = () => {\n  return (\n    <Occupy\n      rowCount={number("Rows", 4)}\n      spotCount={number("Seats per row", 8)}\n      shape={array(\n        "Shape, try [4,4] or [3,3,2] (max 3 elements that add up to seats per row)",\n        [2, 4, 2]\n      )}\n    />\n  );\n};\n\nCaseA.story = {\n  name: "Dinamyc row shape"\n};\n',__ADDS_MAP__:{"shaped--case-a":{startLoc:{col:21,line:20},endLoc:{col:1,line:31},startBody:{col:21,line:20},endBody:{col:1,line:31}}},__MAIN_FILE_LOCATION__:"/2-Shapes.stories.js",__MODULE_DEPENDENCIES__:[],__LOCAL_DEPENDENCIES__:{},__SOURCE_PREFIX__:"/Users/polmoneys/Documents/code/OSS/occupy/stories",__IDS_TO_FRAMEWORKS__:{}});CaseA.story={name:"Dinamyc row shape"}},642:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CaseA",(function(){return CaseA})),__webpack_require__.d(__webpack_exports__,"CaseB",(function(){return CaseB}));__webpack_require__(13),__webpack_require__(21),__webpack_require__(22),__webpack_require__(48),__webpack_require__(67),__webpack_require__(28),__webpack_require__(19),__webpack_require__(39),__webpack_require__(20),__webpack_require__(29),__webpack_require__(16),__webpack_require__(34),__webpack_require__(23),__webpack_require__(24);var react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(31),_shape__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(41),_container__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(61),_lib__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(49);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}__webpack_require__(60).withSource;var addSourceDecorator=__webpack_require__(60).addSource,__STORY__='import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, text, color, number, select } from "@storybook/addon-knobs";\n\nimport Shape from "./shape";\nimport Center from "./container";\nimport Occupy from "../lib";\n\nexport default {\n  title: "Advanced composition",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="xl" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nfunction AirplaneSpot({\n  a11yTitle,\n  cb,\n  id,\n  isBusy = false,\n  isLast = false,\n  isSelected = false,\n  dummy\n}) {\n  if (dummy) {\n    return <div occupy-spot="" className=" alpha"></div>;\n  }\n  return (\n    <button\n      style={{\n        marginRight: isLast ? "30px" : 0,\n        cursor: isBusy ? "not-allowed" : "pointer",\n        filter: isSelected\n          ? "brightness(2)"\n          : isBusy\n          ? "brightness(.7) grayscale(90%)"\n          : "none"\n      }}\n      disabled={isBusy}\n      id={`spot-${id}`}\n      onClick={cb}\n      occupy-spot=""\n      className="plane-demo"\n    >\n      <span className="offscreen">{a11yTitle}</span>\n    </button>\n  );\n}\n\nexport const CaseA = () => {\n  let [tab, selectTab] = useState(1);\n\n  const initialState = {\n    busySpots: ["1-1", "1-6", "1-7", "1-7", "4-3", "4-10", "4-11"]\n  };\n\n  let trySpotReservation = () => {\n    // ask server\n    // deal with errors\n  };\n\n  return (\n    <>\n      {\n        {\n          1: <p className="-accent txt-xl txt-bold">SECTION 1</p>,\n          13: <p className="-accent txt-xl txt-bold">SECTION 2</p>,\n          26: <p className="-accent txt-xl txt-bold">SECTION 3</p>\n        }[tab]\n      }\n\n      <Occupy\n        rowCount={13}\n        spotCount={11}\n        shape={[3, 5, 3]}\n        spotComponent={props => <AirplaneSpot key={props.id} {...props} />}\n        initialRowIndex={tab}\n        initialState={initialState}\n      >\n        {({ selected }) => {\n          return (\n            <>\n              <nav className="col-start align-center minimap -black">\n                <button\n                  type="button"\n                  style={{\n                    backgroundColor: tab === 1 ? "#b8c1ec" : "#eebbc3"\n                  }}\n                  onClick={() => selectTab(1)}\n                  className="txt-xl txt-bold"\n                >\n                  S1 <small> (rows 1-12)</small>\n                </button>\n                <button\n                  type="button"\n                  style={{\n                    backgroundColor: tab === 13 ? "#b8c1ec" : "#eebbc3"\n                  }}\n                  onClick={() => selectTab(13)}\n                  className="txt-xl txt-bold"\n                >\n                  S2 <small> (rows 13-26)</small>\n                </button>\n                <button\n                  type="button"\n                  style={{\n                    backgroundColor: tab === 26 ? "#b8c1ec" : "#eebbc3"\n                  }}\n                  onClick={() => selectTab(26)}\n                  className="txt-xl txt-bold"\n                >\n                  S3 <small>(rows 26-39)</small>{" "}\n                </button>\n                <p>\n                  <span className="txt-bold ">{selected?.row ?? "*"}</span> ROW\n                </p>\n                <p>\n                  <span className="txt-bold">{selected?.spot ?? "*"}</span> SEAT\n                </p>\n              </nav>\n            </>\n          );\n        }}\n      </Occupy>\n    </>\n  );\n};\n\nCaseA.story = {\n  name: "Airplane with dynamic sections"\n};\n\nconst BeachSpot = ({ a11yTitle, cb, id, isLast, isSelected = false }) => {\n  return (\n    <button\n      type="button"\n      key={id}\n      id={`spot-${id}`}\n      className="beach-spot"\n      onClick={() => cb(id)}\n      style={{\n        marginRight: isLast ? "30px" : 0,\n        position: "relative",\n        width: "40px",\n        height: "40px",\n        backgroundColor: isSelected ? "#b8c1ec" : "#eebbc3",\n        border: `1px solid ${isSelected ? "#b8c1ec" : "#eebbc3"}`\n      }}\n    >\n      <span className="offscreen">{a11yTitle}</span>\n    </button>\n  );\n};\n\nexport const CaseB = () => {\n  let trySpotReservation = () => {\n    // ask server\n    // deal with errors\n  };\n\n  return (\n    <div className="beach-wrapper">\n      <Occupy\n        rowCount={5}\n        spotCount={14}\n        spotComponent={props => <BeachSpot key={props.id} {...props} />}\n        multi={2}\n      >\n        {({ select, selected }) => {\n          let waterfrontRowDivision = 3;\n          let waterfront = selected.filter(\n            spot => spot.row < waterfrontRowDivision\n          ).length;\n          let nonWaterfront = selected.filter(\n            spot => spot.row >= waterfrontRowDivision\n          ).length;\n\n          let price = waterfront * 6 + nonWaterfront * 3;\n\n          return (\n            <div className="col-center align-center -black owl">\n              <br />\n\n              <Shape sides={7} size={160} fill="#b8c1ec">\n                <p className="txt-center txt-xl txt-bold"> {price}&euro; </p>\n              </Shape>\n\n              <p className="underline-double txt-center"> FARES </p>\n              <div\n                className="row-between align-center flex-stretch "\n                style={{ padding: "0 10vw" }}\n              >\n                <div className="txt-m">\n                  <p>Waterfront (Best)</p>\n                  <p>{[...Array(waterfront).keys()].map(i => ``)}</p>\n                </div>\n\n                <Shape sides={5} size={60} fill="#b8c1ec">\n                  <p className="txt-s txt-bold">6&euro;</p>\n                </Shape>\n              </div>\n\n              <div\n                className="row-between align-center flex-stretch"\n                style={{ padding: "0 10vw" }}\n              >\n                <div className="txt-m">\n                  <p>Non Waterfront</p>\n                  <p>{[...Array(nonWaterfront).keys()].map(i => ``)}</p>\n                </div>\n\n                <Shape sides={5} size={60} fill="#b8c1ec">\n                  <p className="txt-s txt-bold">3&euro;</p>\n                </Shape>\n              </div>\n              <br />\n              <br />\n\n              <p>\n                {" "}\n                <span className="txt-bold underline-double">Special offer</span>\n                , waterfront for 4&euro;,{" "}\n                <span\n                  className="txt-bold txt-pointer underline-double"\n                  onClick={() => select("1-13")}\n                >\n                  claim it\n                </span>\n              </p>\n              <br />\n              <br />\n            </div>\n          );\n        }}\n      </Occupy>\n    </div>\n  );\n};\n\nCaseB.story = {\n  name: "Beach with multiple selection"\n};\n',__ADDS_MAP__={"advanced-composition--case-a":{startLoc:{col:21,line:55},endLoc:{col:1,line:132},startBody:{col:21,line:55},endBody:{col:1,line:132}},"advanced-composition--case-b":{startLoc:{col:21,line:160},endLoc:{col:1,line:243},startBody:{col:21,line:160},endBody:{col:1,line:243}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:'import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, text, color, number, select } from "@storybook/addon-knobs";\n\nimport Shape from "./shape";\nimport Center from "./container";\nimport Occupy from "../lib";\n\nexport default {\n  title: "Advanced composition",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="xl" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nfunction AirplaneSpot({\n  a11yTitle,\n  cb,\n  id,\n  isBusy = false,\n  isLast = false,\n  isSelected = false,\n  dummy\n}) {\n  if (dummy) {\n    return <div occupy-spot="" className=" alpha"></div>;\n  }\n  return (\n    <button\n      style={{\n        marginRight: isLast ? "30px" : 0,\n        cursor: isBusy ? "not-allowed" : "pointer",\n        filter: isSelected\n          ? "brightness(2)"\n          : isBusy\n          ? "brightness(.7) grayscale(90%)"\n          : "none"\n      }}\n      disabled={isBusy}\n      id={`spot-${id}`}\n      onClick={cb}\n      occupy-spot=""\n      className="plane-demo"\n    >\n      <span className="offscreen">{a11yTitle}</span>\n    </button>\n  );\n}\n\nexport const CaseA = () => {\n  let [tab, selectTab] = useState(1);\n\n  const initialState = {\n    busySpots: ["1-1", "1-6", "1-7", "1-7", "4-3", "4-10", "4-11"]\n  };\n\n  let trySpotReservation = () => {\n    // ask server\n    // deal with errors\n  };\n\n  return (\n    <>\n      {\n        {\n          1: <p className="-accent txt-xl txt-bold">SECTION 1</p>,\n          13: <p className="-accent txt-xl txt-bold">SECTION 2</p>,\n          26: <p className="-accent txt-xl txt-bold">SECTION 3</p>\n        }[tab]\n      }\n\n      <Occupy\n        rowCount={13}\n        spotCount={11}\n        shape={[3, 5, 3]}\n        spotComponent={props => <AirplaneSpot key={props.id} {...props} />}\n        initialRowIndex={tab}\n        initialState={initialState}\n      >\n        {({ selected }) => {\n          return (\n            <>\n              <nav className="col-start align-center minimap -black">\n                <button\n                  type="button"\n                  style={{\n                    backgroundColor: tab === 1 ? "#b8c1ec" : "#eebbc3"\n                  }}\n                  onClick={() => selectTab(1)}\n                  className="txt-xl txt-bold"\n                >\n                  S1 <small> (rows 1-12)</small>\n                </button>\n                <button\n                  type="button"\n                  style={{\n                    backgroundColor: tab === 13 ? "#b8c1ec" : "#eebbc3"\n                  }}\n                  onClick={() => selectTab(13)}\n                  className="txt-xl txt-bold"\n                >\n                  S2 <small> (rows 13-26)</small>\n                </button>\n                <button\n                  type="button"\n                  style={{\n                    backgroundColor: tab === 26 ? "#b8c1ec" : "#eebbc3"\n                  }}\n                  onClick={() => selectTab(26)}\n                  className="txt-xl txt-bold"\n                >\n                  S3 <small>(rows 26-39)</small>{" "}\n                </button>\n                <p>\n                  <span className="txt-bold ">{selected?.row ?? "*"}</span> ROW\n                </p>\n                <p>\n                  <span className="txt-bold">{selected?.spot ?? "*"}</span> SEAT\n                </p>\n              </nav>\n            </>\n          );\n        }}\n      </Occupy>\n    </>\n  );\n};\n\nCaseA.story = {\n  name: "Airplane with dynamic sections"\n};\n\nconst BeachSpot = ({ a11yTitle, cb, id, isLast, isSelected = false }) => {\n  return (\n    <button\n      type="button"\n      key={id}\n      id={`spot-${id}`}\n      className="beach-spot"\n      onClick={() => cb(id)}\n      style={{\n        marginRight: isLast ? "30px" : 0,\n        position: "relative",\n        width: "40px",\n        height: "40px",\n        backgroundColor: isSelected ? "#b8c1ec" : "#eebbc3",\n        border: `1px solid ${isSelected ? "#b8c1ec" : "#eebbc3"}`\n      }}\n    >\n      <span className="offscreen">{a11yTitle}</span>\n    </button>\n  );\n};\n\nexport const CaseB = () => {\n  let trySpotReservation = () => {\n    // ask server\n    // deal with errors\n  };\n\n  return (\n    <div className="beach-wrapper">\n      <Occupy\n        rowCount={5}\n        spotCount={14}\n        spotComponent={props => <BeachSpot key={props.id} {...props} />}\n        multi={2}\n      >\n        {({ select, selected }) => {\n          let waterfrontRowDivision = 3;\n          let waterfront = selected.filter(\n            spot => spot.row < waterfrontRowDivision\n          ).length;\n          let nonWaterfront = selected.filter(\n            spot => spot.row >= waterfrontRowDivision\n          ).length;\n\n          let price = waterfront * 6 + nonWaterfront * 3;\n\n          return (\n            <div className="col-center align-center -black owl">\n              <br />\n\n              <Shape sides={7} size={160} fill="#b8c1ec">\n                <p className="txt-center txt-xl txt-bold"> {price}&euro; </p>\n              </Shape>\n\n              <p className="underline-double txt-center"> FARES </p>\n              <div\n                className="row-between align-center flex-stretch "\n                style={{ padding: "0 10vw" }}\n              >\n                <div className="txt-m">\n                  <p>Waterfront (Best)</p>\n                  <p>{[...Array(waterfront).keys()].map(i => ``)}</p>\n                </div>\n\n                <Shape sides={5} size={60} fill="#b8c1ec">\n                  <p className="txt-s txt-bold">6&euro;</p>\n                </Shape>\n              </div>\n\n              <div\n                className="row-between align-center flex-stretch"\n                style={{ padding: "0 10vw" }}\n              >\n                <div className="txt-m">\n                  <p>Non Waterfront</p>\n                  <p>{[...Array(nonWaterfront).keys()].map(i => ``)}</p>\n                </div>\n\n                <Shape sides={5} size={60} fill="#b8c1ec">\n                  <p className="txt-s txt-bold">3&euro;</p>\n                </Shape>\n              </div>\n              <br />\n              <br />\n\n              <p>\n                {" "}\n                <span className="txt-bold underline-double">Special offer</span>\n                , waterfront for 4&euro;,{" "}\n                <span\n                  className="txt-bold txt-pointer underline-double"\n                  onClick={() => select("1-13")}\n                >\n                  claim it\n                </span>\n              </p>\n              <br />\n              <br />\n            </div>\n          );\n        }}\n      </Occupy>\n    </div>\n  );\n};\n\nCaseB.story = {\n  name: "Beach with multiple selection"\n};\n',locationsMap:{"advanced-composition--case-a":{startLoc:{col:21,line:55},endLoc:{col:1,line:132},startBody:{col:21,line:55},endBody:{col:1,line:132}},"advanced-composition--case-b":{startLoc:{col:21,line:160},endLoc:{col:1,line:243},startBody:{col:21,line:160},endBody:{col:1,line:243}}}}},title:"Advanced composition",decorators:[_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.withKnobs,function(storyFn){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_container__WEBPACK_IMPORTED_MODULE_17__.a,{variant:"xl",flex:"col-center align-center"},storyFn())}]};var _ref2=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{"occupy-spot":"",className:" alpha"});function AirplaneSpot(_ref){var a11yTitle=_ref.a11yTitle,cb=_ref.cb,id=_ref.id,_ref$isBusy=_ref.isBusy,isBusy=void 0!==_ref$isBusy&&_ref$isBusy,_ref$isLast=_ref.isLast,isLast=void 0!==_ref$isLast&&_ref$isLast,_ref$isSelected=_ref.isSelected,isSelected=void 0!==_ref$isSelected&&_ref$isSelected;return _ref.dummy?_ref2:react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{style:{marginRight:isLast?"30px":0,cursor:isBusy?"not-allowed":"pointer",filter:isSelected?"brightness(2)":isBusy?"brightness(.7) grayscale(90%)":"none"},disabled:isBusy,id:"spot-".concat(id),onClick:cb,"occupy-spot":"",className:"plane-demo"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"offscreen"},a11yTitle))}AirplaneSpot.displayName="AirplaneSpot";var _ref3=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"-accent txt-xl txt-bold"},"SECTION 1"),_ref4=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"-accent txt-xl txt-bold"},"SECTION 2"),_ref5=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"-accent txt-xl txt-bold"},"SECTION 3"),_ref7=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("small",null," (rows 1-12)"),_ref8=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("small",null," (rows 13-26)"),_ref9=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("small",null,"(rows 26-39)"),CaseA=addSourceDecorator((function(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_14__.useState)(1),2),tab=_useState2[0],selectTab=_useState2[1];return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,{1:_ref3,13:_ref4,26:_ref5}[tab],react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_18__.a,{rowCount:13,spotCount:11,shape:[3,5,3],spotComponent:function spotComponent(props){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(AirplaneSpot,_extends({key:props.id},props))},initialRowIndex:tab,initialState:{busySpots:["1-1","1-6","1-7","1-7","4-3","4-10","4-11"]}},(function(_ref6){var _ref10,_ref11,selected=_ref6.selected;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("nav",{className:"col-start align-center minimap -black"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{type:"button",style:{backgroundColor:1===tab?"#b8c1ec":"#eebbc3"},onClick:function onClick(){return selectTab(1)},className:"txt-xl txt-bold"},"S1 ",_ref7),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{type:"button",style:{backgroundColor:13===tab?"#b8c1ec":"#eebbc3"},onClick:function onClick(){return selectTab(13)},className:"txt-xl txt-bold"},"S2 ",_ref8),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{type:"button",style:{backgroundColor:26===tab?"#b8c1ec":"#eebbc3"},onClick:function onClick(){return selectTab(26)},className:"txt-xl txt-bold"},"S3 ",_ref9," "),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"txt-bold "},null!==(_ref10=null==selected?void 0:selected.row)&&void 0!==_ref10?_ref10:"*")," ROW"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"txt-bold"},null!==(_ref11=null==selected?void 0:selected.spot)&&void 0!==_ref11?_ref11:"*")," SEAT")))})))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/3-Fun.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"/Users/polmoneys/Documents/code/OSS/occupy/stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseA.story={name:"Airplane with dynamic sections"};var BeachSpot=function(_ref12){var a11yTitle=_ref12.a11yTitle,cb=_ref12.cb,id=_ref12.id,isLast=_ref12.isLast,_ref12$isSelected=_ref12.isSelected,isSelected=void 0!==_ref12$isSelected&&_ref12$isSelected;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("button",{type:"button",key:id,id:"spot-".concat(id),className:"beach-spot",onClick:function onClick(){return cb(id)},style:{marginRight:isLast?"30px":0,position:"relative",width:"40px",height:"40px",backgroundColor:isSelected?"#b8c1ec":"#eebbc3",border:"1px solid ".concat(isSelected?"#b8c1ec":"#eebbc3")}},"",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"offscreen"},a11yTitle))};BeachSpot.displayName="BeachSpot";var _ref14=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),_ref15=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"underline-double txt-center"}," FARES "),_ref16=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"Waterfront (Best)"),_ref17=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_shape__WEBPACK_IMPORTED_MODULE_16__.a,{sides:5,size:60,fill:"#b8c1ec"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"txt-s txt-bold"},"6")),_ref18=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"Non Waterfront"),_ref19=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_shape__WEBPACK_IMPORTED_MODULE_16__.a,{sides:5,size:60,fill:"#b8c1ec"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"txt-s txt-bold"},"3")),_ref20=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),_ref21=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),_ref22=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"txt-bold underline-double"},"Special offer"),_ref23=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),_ref24=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("br",null),CaseB=addSourceDecorator((function(){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"beach-wrapper"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_lib__WEBPACK_IMPORTED_MODULE_18__.a,{rowCount:5,spotCount:14,spotComponent:function spotComponent(props){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(BeachSpot,_extends({key:props.id},props))},multi:2},(function(_ref13){var select=_ref13.select,selected=_ref13.selected,waterfront=selected.filter((function(spot){return spot.row<3})).length,nonWaterfront=selected.filter((function(spot){return spot.row>=3})).length;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"col-center align-center -black owl"},_ref14,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_shape__WEBPACK_IMPORTED_MODULE_16__.a,{sides:7,size:160,fill:"#b8c1ec"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",{className:"txt-center txt-xl txt-bold"}," ",6*waterfront+3*nonWaterfront," ")),_ref15,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"row-between align-center flex-stretch ",style:{padding:"0 10vw"}},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"txt-m"},_ref16,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,_toConsumableArray(Array(waterfront).keys()).map((function(){return""})))),_ref17),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"row-between align-center flex-stretch",style:{padding:"0 10vw"}},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"txt-m"},_ref18,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,_toConsumableArray(Array(nonWaterfront).keys()).map((function(){return""})))),_ref19),_ref20,_ref21,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null," ",_ref22,", waterfront for 4,"," ",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"txt-bold txt-pointer underline-double",onClick:function onClick(){return select("1-13")}},"claim it")),_ref23,_ref24)})))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/3-Fun.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"/Users/polmoneys/Documents/code/OSS/occupy/stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseB.story={name:"Beach with multiple selection"}},643:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CaseA",(function(){return CaseA})),__webpack_require__.d(__webpack_exports__,"CaseB",(function(){return CaseB}));__webpack_require__(13),__webpack_require__(21),__webpack_require__(22),__webpack_require__(28),__webpack_require__(19),__webpack_require__(39),__webpack_require__(75),__webpack_require__(20),__webpack_require__(16),__webpack_require__(34),__webpack_require__(23),__webpack_require__(24);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist=__webpack_require__(31),shape=__webpack_require__(41),container=__webpack_require__(61);__webpack_require__(17),__webpack_require__(48),__webpack_require__(78),__webpack_require__(101),__webpack_require__(29),__webpack_require__(47),__webpack_require__(131),__webpack_require__(27),__webpack_require__(120),__webpack_require__(100),__webpack_require__(35),__webpack_require__(133),__webpack_require__(134),__webpack_require__(33),__webpack_require__(121),__webpack_require__(30),__webpack_require__(287);function Spot(_ref){var a11yTitle=_ref.a11yTitle,cb=_ref.cb,id=_ref.id,_ref$isBusy=_ref.isBusy,isBusy=void 0!==_ref$isBusy&&_ref$isBusy,_ref$isSelected=_ref.isSelected,isSelected=void 0!==_ref$isSelected&&_ref$isSelected;return react_default.a.createElement("button",{style:{filter:isSelected?"brightness(2)":isBusy?"brightness(.7) grayscale(90%)":"none"},disabled:isBusy,id:"spot-".concat(id),onClick:cb,"occupy-spot":""},react_default.a.createElement("span",{className:"offscreen"},a11yTitle))}Spot.displayName="Spot",Spot.__docgenInfo={description:"",methods:[],displayName:"Spot",props:{isBusy:{defaultValue:{value:"false",computed:!1},required:!1},isSelected:{defaultValue:{value:"false",computed:!1},required:!1}}};var diy_spot=Spot;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib-diy/diy-spot.js"]={name:"Spot",docgenInfo:Spot.__docgenInfo,path:"lib-diy/diy-spot.js"});function RowWithMemo(props){var gridStyles,_cb=props.cb,current=props.current,initialState=props.initialState,rowId=props.rowId,spots=props.spots,spotComponent=props.spotComponent,spotRefIndex=0,busySpots=initialState.busySpots;return react_default.a.createElement("div",{style:_objectSpread({},(gridStyles={display:"grid",gridColumnGap:"4px",gridTemplateColumns:"repeat(".concat(spots.length,",1fr)")},window.CSS&&CSS.supports("display:grid")?gridStyles:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}))},spots.map((function(spot,spotIndex){if(0===spot)return react_default.a.createElement("div",{"occupy-spot":"dummy",key:spotIndex});var safeSpotIndex=+ ++spotRefIndex,spotId="".concat(rowId,"-").concat(safeSpotIndex);return spotComponent?spotComponent({a11yTitle:"Select row ".concat(rowId," seat ").concat(safeSpotIndex),cb:function cb(){return _cb(spotId)},id:spotId,isBusy:null==busySpots?void 0:busySpots.includes(spotId),isSelected:spotId==="".concat(current.row,"-").concat(current.spot)}):react_default.a.createElement(diy_spot,{a11yTitle:"Select row ".concat(rowId," seat ").concat(safeSpotIndex),key:spotId,id:spotId,cb:function cb(){return _cb(spotId)},isBusy:null==busySpots?void 0:busySpots.includes(spotId),isSelected:spotId==="".concat(current.row,"-").concat(current.spot)})})))}RowWithMemo.displayName="RowWithMemo";var diy_row=react_default.a.memo((function(props){return react_default.a.createElement(RowWithMemo,props)}),(function(prevProps,nextProps){return prevProps.rowId===nextProps.rowId})),prop_types=__webpack_require__(12),prop_types_default=__webpack_require__.n(prop_types);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Occupy(props){var initialState=props.initialState,_useState2=_slicedToArray(Object(react.useState)(!1),2),isReady=_useState2[0],showComponent=_useState2[1],_useState4=_slicedToArray(Object(react.useState)([]),2),blueprint=_useState4[0],makeBlueprint=_useState4[1],_useState6=_slicedToArray(Object(react.useState)({}),2),selectedSpot=_useState6[0],selectSpot=_useState6[1];function select(payload){var splitAt=payload.indexOf("-"),row=payload.slice(0,splitAt),spot=payload.replace("".concat(row,"-"),"");selectSpot({spot:+spot,row:+row})}function keyboardHandle(e){if("ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key){var spot=selectedSpot.spot,row=selectedSpot.row,nextSpot=spot,nextRow=row,hasChanged=!1;if("ArrowRight"===e.key)spot+1<=blueprint[row-1].filter((function(x){return 0!==x})).length&&(nextSpot=spot+1,hasChanged=!0);else if("ArrowLeft"===e.key)0<spot-1&&(nextSpot=spot-1,hasChanged=!0);else if("ArrowUp"===e.key){var _blueprint,_safeSpotCount=null===(_blueprint=blueprint[nextRow-2])||void 0===_blueprint?void 0:_blueprint.filter((function(x){return 0!==x})).length;0!=row-1&&_safeSpotCount>=spot&&(nextRow=row-1,hasChanged=!0)}else if("ArrowDown"===e.key){var _blueprint$nextRow,_safeSpotCount2=null===(_blueprint$nextRow=blueprint[nextRow])||void 0===_blueprint$nextRow?void 0:_blueprint$nextRow.filter((function(x){return 0!==x})).length;row+1<=blueprint.length+1&&_safeSpotCount2>=spot&&(nextRow=row+1,hasChanged=!0)}if(hasChanged){document.activeElement.blur();var focusNext=document.querySelector("#spot-".concat(nextRow,"-").concat(nextSpot));window.requestAnimationFrame((function(){focusNext&&focusNext.focus()})),selectSpot({spot:nextSpot,row:nextRow})}}}return Object(react.useEffect)((function(){makeBlueprint(initialState.map),showComponent(!0)}),[]),Object(react.useEffect)((function(){return window.addEventListener("keydown",keyboardHandle),function(){window.removeEventListener("keydown",keyboardHandle)}})),isReady?react_default.a.createElement(react_default.a.Fragment,null,null==blueprint?void 0:blueprint.map((function(row,rowIndex){return react_default.a.createElement(diy_row,_extends({key:rowIndex,cb:function cb(spotId){return select(spotId)},rows:blueprint.length,rowId:rowIndex+1,spots:row,current:selectedSpot},props))})),props.children&&props.children({select:select,selected:selectedSpot})):null}Occupy.__docgenInfo={description:"",methods:[],displayName:"Occupy",props:{initialState:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},spotComponent:{defaultValue:{value:"false",computed:!1},required:!1}}};var lib_diy=Occupy;function _4_DIY_stories_slicedToArray(arr,i){return function _4_DIY_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _4_DIY_stories_iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _4_DIY_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Occupy.propTypes={initialState:prop_types_default.a.object},Occupy.defaultProps={initialState:{},spotComponent:!1},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["lib-diy/index.js"]={name:"Occupy",docgenInfo:Occupy.__docgenInfo,path:"lib-diy/index.js"});__webpack_require__(60).withSource;var addSourceDecorator=__webpack_require__(60).addSource,__STORY__='import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, text, color, number } from "@storybook/addon-knobs";\nimport Shape from "./shape";\n\nimport Center from "./container";\nimport Occupy from "../lib-diy";\n\nexport default {\n  title: "DIY layouts",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="l" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nfunction $$(selector) {\n  return [].slice.call(document.querySelectorAll(selector));\n}\n\nexport const CaseA = () => {\n  let [areVisible, setVisibility] = useState(false);\n\n  const initialState = {\n    map: [\n      [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0]\n    ],\n    busySpots: ["1-1", "2-4", "4-3"]\n  };\n\n  function toggle() {\n    if (areVisible) {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0));\n      setVisibility(false);\n    } else {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0.2));\n      setVisibility(true);\n    }\n  }\n\n  return (\n    <>\n      <br />\n      <svg\n        className="txt-pointer"\n        onClick={toggle}\n        fill={"var(--black)"}\n        width="48"\n        height="48"\n        viewBox="0 0 24 24"\n      >\n        <rect width="24" height="24" opacity="0" />\n        <path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z" />\n        <path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z" />\n      </svg>\n      <br />\n\n      <Occupy initialState={initialState}>\n        {({ selected }) => {\n          return (\n            <div\n              className="row-around align-center flex-stretch"\n              style={{ padding: "10vh 10vw" }}\n            >\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.row ?? "X"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Row</p>\n              </div>\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.spot ?? "X"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Seat</p>\n              </div>\n            </div>\n          );\n        }}\n      </Occupy>\n    </>\n  );\n};\n\nCaseA.story = {\n  name: "Coliseum"\n};\n\nexport const CaseB = () => {\n  let [areVisible, setVisibility] = useState(false);\n\n  const initialState = {\n    map: [\n      [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0]\n    ],\n    busySpots: ["5-1", "4-4", "3-3"]\n  };\n\n  function toggle() {\n    if (areVisible) {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0));\n      setVisibility(false);\n    } else {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0.2));\n      setVisibility(true);\n    }\n  }\n  return (\n    <>\n      <br />\n      <svg\n        className="txt-pointer"\n        onClick={toggle}\n        fill={"var(--black)"}\n        width="48"\n        height="48"\n        viewBox="0 0 24 24"\n      >\n        <rect width="24" height="24" opacity="0" />\n        <path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z" />\n        <path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z" />\n      </svg>\n      <br />\n\n      <Occupy initialState={initialState}>\n        {({ selected }) => {\n          return (\n            <div\n              className="row-around align-center flex-stretch"\n              style={{ padding: "10vh 10vw" }}\n            >\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.row ?? "?"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Row</p>\n              </div>\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.spot ?? "?"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Seat</p>\n              </div>\n            </div>\n          );\n        }}\n      </Occupy>\n    </>\n  );\n};\n\nCaseB.story = {\n  name: "Workshop"\n};\n',__ADDS_MAP__={"diy-layouts--case-a":{startLoc:{col:21,line:25},endLoc:{col:1,line:95},startBody:{col:21,line:25},endBody:{col:1,line:95}},"diy-layouts--case-b":{startLoc:{col:21,line:101},endLoc:{col:1,line:170},startBody:{col:21,line:101},endBody:{col:1,line:170}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={};__webpack_exports__.default={parameters:{storySource:{source:'import React, { useRef, useState, useEffect } from "react";\nimport { withKnobs, text, color, number } from "@storybook/addon-knobs";\nimport Shape from "./shape";\n\nimport Center from "./container";\nimport Occupy from "../lib-diy";\n\nexport default {\n  title: "DIY layouts",\n  // component: Occupy,\n  decorators: [\n    withKnobs,\n    storyFn => (\n      <Center variant="l" flex="col-center align-center">\n        {storyFn()}\n      </Center>\n    )\n  ]\n};\n\nfunction $$(selector) {\n  return [].slice.call(document.querySelectorAll(selector));\n}\n\nexport const CaseA = () => {\n  let [areVisible, setVisibility] = useState(false);\n\n  const initialState = {\n    map: [\n      [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],\n      [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0]\n    ],\n    busySpots: ["1-1", "2-4", "4-3"]\n  };\n\n  function toggle() {\n    if (areVisible) {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0));\n      setVisibility(false);\n    } else {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0.2));\n      setVisibility(true);\n    }\n  }\n\n  return (\n    <>\n      <br />\n      <svg\n        className="txt-pointer"\n        onClick={toggle}\n        fill={"var(--black)"}\n        width="48"\n        height="48"\n        viewBox="0 0 24 24"\n      >\n        <rect width="24" height="24" opacity="0" />\n        <path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z" />\n        <path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z" />\n      </svg>\n      <br />\n\n      <Occupy initialState={initialState}>\n        {({ selected }) => {\n          return (\n            <div\n              className="row-around align-center flex-stretch"\n              style={{ padding: "10vh 10vw" }}\n            >\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.row ?? "X"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Row</p>\n              </div>\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.spot ?? "X"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Seat</p>\n              </div>\n            </div>\n          );\n        }}\n      </Occupy>\n    </>\n  );\n};\n\nCaseA.story = {\n  name: "Coliseum"\n};\n\nexport const CaseB = () => {\n  let [areVisible, setVisibility] = useState(false);\n\n  const initialState = {\n    map: [\n      [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],\n      [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0]\n    ],\n    busySpots: ["5-1", "4-4", "3-3"]\n  };\n\n  function toggle() {\n    if (areVisible) {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0));\n      setVisibility(false);\n    } else {\n      $$(\'[occupy-spot="dummy"]\').map(x => (x.style["opacity"] = 0.2));\n      setVisibility(true);\n    }\n  }\n  return (\n    <>\n      <br />\n      <svg\n        className="txt-pointer"\n        onClick={toggle}\n        fill={"var(--black)"}\n        width="48"\n        height="48"\n        viewBox="0 0 24 24"\n      >\n        <rect width="24" height="24" opacity="0" />\n        <path d="M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z" />\n        <path d="M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z" />\n      </svg>\n      <br />\n\n      <Occupy initialState={initialState}>\n        {({ selected }) => {\n          return (\n            <div\n              className="row-around align-center flex-stretch"\n              style={{ padding: "10vh 10vw" }}\n            >\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.row ?? "?"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Row</p>\n              </div>\n              <div>\n                <Shape sides={7} size={100} fill="#232946">\n                  <p className="txt-bold txt-center txt-xl -accent ">\n                    {selected?.spot ?? "?"}\n                  </p>\n                </Shape>\n                <p className="underline-double txt-center txt-block">Seat</p>\n              </div>\n            </div>\n          );\n        }}\n      </Occupy>\n    </>\n  );\n};\n\nCaseB.story = {\n  name: "Workshop"\n};\n',locationsMap:{"diy-layouts--case-a":{startLoc:{col:21,line:25},endLoc:{col:1,line:95},startBody:{col:21,line:25},endBody:{col:1,line:95}},"diy-layouts--case-b":{startLoc:{col:21,line:101},endLoc:{col:1,line:170},startBody:{col:21,line:101},endBody:{col:1,line:170}}}}},title:"DIY layouts",decorators:[dist.withKnobs,function(storyFn){return react_default.a.createElement(container.a,{variant:"l",flex:"col-center align-center"},storyFn())}]};function $$(selector){return[].slice.call(document.querySelectorAll(selector))}var _4_DIY_stories_ref=react_default.a.createElement("br",null),_ref2=react_default.a.createElement("rect",{width:"24",height:"24",opacity:"0"}),_ref3=react_default.a.createElement("path",{d:"M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z"}),_ref4=react_default.a.createElement("path",{d:"M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"}),_ref5=react_default.a.createElement("br",null),_ref8=react_default.a.createElement("p",{className:"underline-double txt-center txt-block"},"Row"),_ref10=react_default.a.createElement("p",{className:"underline-double txt-center txt-block"},"Seat"),CaseA=addSourceDecorator((function(){var _useState2=_4_DIY_stories_slicedToArray(Object(react.useState)(!1),2),areVisible=_useState2[0],setVisibility=_useState2[1];return react_default.a.createElement(react_default.a.Fragment,null,_4_DIY_stories_ref,react_default.a.createElement("svg",{className:"txt-pointer",onClick:function(){areVisible?($$('[occupy-spot="dummy"]').map((function(x){return x.style.opacity=0})),setVisibility(!1)):($$('[occupy-spot="dummy"]').map((function(x){return x.style.opacity=.2})),setVisibility(!0))},fill:"var(--black)",width:"48",height:"48",viewBox:"0 0 24 24"},_ref2,_ref3,_ref4),_ref5,react_default.a.createElement(lib_diy,{initialState:{map:[[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0]],busySpots:["1-1","2-4","4-3"]}},(function(_ref6){var _ref7,_ref9,selected=_ref6.selected;return react_default.a.createElement("div",{className:"row-around align-center flex-stretch",style:{padding:"10vh 10vw"}},react_default.a.createElement("div",null,react_default.a.createElement(shape.a,{sides:7,size:100,fill:"#232946"},react_default.a.createElement("p",{className:"txt-bold txt-center txt-xl -accent "},null!==(_ref7=null==selected?void 0:selected.row)&&void 0!==_ref7?_ref7:"X")),_ref8),react_default.a.createElement("div",null,react_default.a.createElement(shape.a,{sides:7,size:100,fill:"#232946"},react_default.a.createElement("p",{className:"txt-bold txt-center txt-xl -accent "},null!==(_ref9=null==selected?void 0:selected.spot)&&void 0!==_ref9?_ref9:"X")),_ref10))})))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/4-DIY.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"/Users/polmoneys/Documents/code/OSS/occupy/stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseA.story={name:"Coliseum"};var _ref11=react_default.a.createElement("br",null),_ref12=react_default.a.createElement("rect",{width:"24",height:"24",opacity:"0"}),_ref13=react_default.a.createElement("path",{d:"M21.87 11.5c-.64-1.11-4.16-6.68-10.14-6.5-5.53.14-8.73 5-9.6 6.5a1 1 0 0 0 0 1c.63 1.09 4 6.5 9.89 6.5h.25c5.53-.14 8.74-5 9.6-6.5a1 1 0 0 0 0-1zM12.22 17c-4.31.1-7.12-3.59-8-5 1-1.61 3.61-4.9 7.61-5 4.29-.11 7.11 3.59 8 5-1.03 1.61-3.61 4.9-7.61 5z"}),_ref14=react_default.a.createElement("path",{d:"M12 8.5a3.5 3.5 0 1 0 3.5 3.5A3.5 3.5 0 0 0 12 8.5zm0 5a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5z"}),_ref15=react_default.a.createElement("br",null),_ref18=react_default.a.createElement("p",{className:"underline-double txt-center txt-block"},"Row"),_ref20=react_default.a.createElement("p",{className:"underline-double txt-center txt-block"},"Seat"),CaseB=addSourceDecorator((function(){var _useState4=_4_DIY_stories_slicedToArray(Object(react.useState)(!1),2),areVisible=_useState4[0],setVisibility=_useState4[1];return react_default.a.createElement(react_default.a.Fragment,null,_ref11,react_default.a.createElement("svg",{className:"txt-pointer",onClick:function(){areVisible?($$('[occupy-spot="dummy"]').map((function(x){return x.style.opacity=0})),setVisibility(!1)):($$('[occupy-spot="dummy"]').map((function(x){return x.style.opacity=.2})),setVisibility(!0))},fill:"var(--black)",width:"48",height:"48",viewBox:"0 0 24 24"},_ref12,_ref13,_ref14),_ref15,react_default.a.createElement(lib_diy,{initialState:{map:[[0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0],[0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0],[0,0,0,1,1,1,1,0,0,0,1,1,1,1,0,0,0],[0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0]],busySpots:["5-1","4-4","3-3"]}},(function(_ref16){var _ref17,_ref19,selected=_ref16.selected;return react_default.a.createElement("div",{className:"row-around align-center flex-stretch",style:{padding:"10vh 10vw"}},react_default.a.createElement("div",null,react_default.a.createElement(shape.a,{sides:7,size:100,fill:"#232946"},react_default.a.createElement("p",{className:"txt-bold txt-center txt-xl -accent "},null!==(_ref17=null==selected?void 0:selected.row)&&void 0!==_ref17?_ref17:"?")),_ref18),react_default.a.createElement("div",null,react_default.a.createElement(shape.a,{sides:7,size:100,fill:"#232946"},react_default.a.createElement("p",{className:"txt-bold txt-center txt-xl -accent "},null!==(_ref19=null==selected?void 0:selected.spot)&&void 0!==_ref19?_ref19:"?")),_ref20))})))}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/4-DIY.stories.js",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"/Users/polmoneys/Documents/code/OSS/occupy/stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__});CaseB.story={name:"Workshop"}}},[[289,1,2]]]);
//# sourceMappingURL=main.42209626a3bf58794f83.bundle.js.map